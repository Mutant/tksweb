<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <title>Spine Test</title>
  <style type="text/css">
  </style>
  <script type="text/x-jquery-tmpl" id="taskTemplate">
    <tr>
      <td>${wr_number}</td>
      <td>${description}</td>
    </tr>
  </script>
  <script type="text/javascript" charset="utf-8" src="js/jquery-1.5.1.min.js"></script>
  <script type="text/javascript" charset="utf-8" src="js/jquery.tmpl.min.js"></script>
  <script type="text/javascript" charset="utf-8" src="js/spine.min.js"></script>
  <script type="text/javascript">

    var Activity = Spine.Model.setup("Activity", [
        "wr_number",
        'description'
    ]);

    var Activities = Spine.Controller.create({
        el: $('#activity-list'),

        events: {
            "click": "click"
        },


        init: function(){
            Contact.bind("refresh change", this.proxy(this.render));
        },

        template: function(items){ 
            return($("#tmpl-activity").tmpl(items));
        },

        render: function(item){
          if (item) this.item = item;

          this.el.append(this.template(this.item));
          return this;
        },

        click: function() {
            console.log('In the click event:', this);
        }
    });

    var act1 = Activity.init({
        wr_number  : 'C17',
        description: 'Timesheeting'
    });

    var act2 = Activity.init({
        wr_number  : '36136',
        description: 'Regression tests'
    });

console.log(act2);
    act2.save();
console.log(act2.toJSON());

    $('#btn-add').click(function(e) {
        var act = Activity.init({
            wr_number  : $('#inp-wr-number').val(),
            description: $('#inp-wr-description').val()
        });
        e.preventDefault();
    });

  </script>
</head>
<body>

  <form>
    <label>WR Number</label><input id="inp-wr-number"><br>
    <label>Description</label><input id="inp-description"><br>
    <button id="btn-add">Add Activity</button>
  </form>

  <table>
    <tbody id="activity-list">
      <tr>
        <th>WR Number</th>
        <th>Description</th>
      </tr>
    </tbody>
  </table>

</body>
</html>
